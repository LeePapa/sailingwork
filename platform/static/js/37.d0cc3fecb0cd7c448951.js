webpackJsonp([37],{KhyO:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("Fzxs"),a=i("6nXL"),n=i("EuEE"),l=i("a2vD"),o=i("Xtis"),r=i("aFBZ"),c=i("swMD"),u={components:{EmptyTable:s.a},data:function(){return{statusOption:[{label:"全部",value:4},{label:a.b.toString(a.b.NO),value:a.b.NO},{label:a.b.toString(a.b.DURING),value:a.b.DURING},{label:a.b.toString(a.b.SUC),value:a.b.SUC},{label:a.b.toString(a.b.FAIL),value:a.b.FAIL}],agentid:l.a.getAgentid(),statusSelect:"",shopName:"",provinces:"",city:"",area:"",list:[],emptyType:1,multipleSelection:[],total:100,listQuery:{page:1,limit:10},areaTree:[],defaultProps:{children:"children",label:"label"},isHighlight:!0,isSort:!1,sortLabel:"",sortOrder:1,dialogAgent:{},freezeDialogVisible:!1,sucTipDialogVisible:!1,sucTipText:"",sucTipImg:i("tPWg"),AgentIsFreeze:a.c,isSelect:!0}},computed:{isListEmpty:function(){return 0===this.list.length}},created:function(){this.areaTree=r.a.getAreaArr(),this.getList()},mounted:function(){var e=this;this.$nextTick(function(){var t=e.$refs.merchantTable.$refs.bodyWrapper;n.a.AdjustHeight(t)})},methods:{getList:function(){var e=this,t={get_shop_list:1,agent_id:this.agentid,page_size:this.listQuery.limit,page_no:this.listQuery.page};this.shopName&&(t.shop_name=this.shopName),this.provinces&&(t.province=this.provinces),this.city&&this.provinces&&(t.city=this.city),this.area&&this.city&&this.provinces&&(t.area=this.area),""!==this.statusSelect&&4!==this.statusSelect&&(t.business_status=this.statusSelect),this.isSort&&(t.sort_name=this.sortLabel,t.desc=this.sortOrder),Object(o.l)(t).then(function(t){0===t.ret?(e.list=t.data.list||[],e.total=t.data.total,e.list.map(function(e){return e.business_status_str=a.b.toString(e.business_status||0),e.is_freeze=e.is_freeze||a.c.NO,e.is_freeze_str=a.c.toString(e.is_freeze),e.address_str=""+e.province+e.city+e.area+e.address,e})):e.$slnotify({message:a.w.toString(t.ret),duration:1500})})},search:function(){this.emptyType=2,this.listQuery.page=1,this.getList()},handleSizeChange:function(e){this.listQuery.limit=e,this.getList()},handleCurrentChange:function(e){this.listQuery.page=e,this.getList()},sort:function(e){this.sortLabel=e.prop,"descending"===e.order?(this.isSort=!0,this.sortOrder=-1):"ascending"===e.order?(this.isSort=!0,this.sortOrder=1):this.isSort=!1,this.getList()},currentChange:function(e,t){this.isSelect=!1,this.isHighlight=!0,1===t.level?(this.area="",this.city="",this.provinces=t.label):2===t.level?(this.area="",this.city=t.label,this.provinces=t.parent.label):3===t.level&&(this.area=t.label,this.city=t.parent.label,this.provinces=t.parent.parent.label),this.getList()},nodeExpand:function(e,t){var i=t.key;this.$refs.tree.setCurrentKey(i),this.isSelect=!1,this.isHighlight=!0,1===t.level?(this.area="",this.city="",this.provinces=t.label):2===t.level?(this.area="",this.city=t.label,this.provinces=t.parent.label):3===t.level&&(this.area=t.label,this.city=t.parent.label,this.provinces=t.parent.parent.label),this.getList()},openReezeDialog:function(e){this.dialogAgent=e,this.freezeDialogVisible=!0},hideReezeDialog:function(){this.freezeDialogVisible=!1},hideReezeDialogHandle:function(){var e=this;setTimeout(function(){e.dialogAgent={}},300)},freezeOk:function(){var e=this,t={shop_is_freeze:1,shop_id:this.dialogAgent.shop_id,is_freeze:a.c.YES};Object(o.m)(t).then(function(t){0===t.ret?(e.hideReezeDialog(),e.getList(),e.openTilSuc("冻结成功！")):e.$slnotify({message:a.w.toString(t.ret)})})},freeEnable:function(){var e=this,t={shop_is_freeze:1,shop_id:this.dialogAgent.shop_id,is_freeze:a.c.NO};Object(o.m)(t).then(function(t){0===t.ret?(e.hideReezeDialog(),e.getList(),e.openTilSuc("启用成功！")):e.$slnotify({message:a.w.toString(t.ret)})})},openTilSuc:function(e,t){var s=this;this.sucTipText=e,t&&(this.sucTipImg=i("SpNi")),setTimeout(function(){s.sucTipDialogVisible=!0},500)},hideTipSuc:function(){this.sucTipDialogVisible=!1},goCreate:function(){this.$router.push("/areaagent/create"),c.a.setItem("SELECTMENU","/areaagent/create"),this.$store.commit("CHANGE_SELECTMENU","/areaagent/create")},goDetail:function(e){this.$router.push({path:"/areamerchant/detail",query:{shopid:e}})},resetChecked:function(){this.isSelect=!0,this.isHighlight=!1,this.area="",this.city="",this.provinces="",this.getList()}}},h={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"areaagent-merchant-manage"}},[i("div",{staticClass:"merchant-tree change-tree-default"},[i("div",{staticClass:"area-all",class:{active:e.isSelect},on:{click:e.resetChecked}},[i("span",{staticClass:"el-tree-node__expand-icon el-icon-caret-right expanded"}),e._v(" "),i("span",[e._v("所属区域")])]),e._v(" "),i("el-tree",{ref:"tree",attrs:{data:e.areaTree,props:e.defaultProps,"node-key":"adcode","highlight-current":e.isHighlight},on:{"current-change":e.currentChange,"node-expand":e.nodeExpand,"node-collapse":e.nodeExpand}})],1),e._v(" "),i("div",{staticClass:"merchant-list"},[i("div",{staticClass:"search-content"},[i("div",{staticClass:"name fl clearfix search-item"},[e._m(0),e._v(" "),i("div",{staticClass:"fl"},[i("el-select",{attrs:{placeholder:"请选择"},model:{value:e.statusSelect,callback:function(t){e.statusSelect=t},expression:"statusSelect"}},e._l(e.statusOption,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1)]),e._v(" "),i("div",{staticClass:"name fl clearfix search-item"},[e._m(1),e._v(" "),i("div",{staticClass:"fl"},[i("el-input",{attrs:{placeholder:"请输入商户名称"},model:{value:e.shopName,callback:function(t){e.shopName=t},expression:"shopName"}})],1)]),e._v(" "),i("div",{staticClass:"search-btn fl",on:{click:e.search}},[e._v("搜索")]),e._v(" "),i("div",{staticClass:"search-btn fr",on:{click:e.goCreate}},[e._v("创建")])]),e._v(" "),i("div",{staticClass:"table-content change-default"},[i("el-table",{ref:"merchantTable",attrs:{data:e.list,stripe:""},on:{"sort-change":e.sort}},[i("el-table-column",{attrs:{prop:"shop_name",label:"商户名称","min-width":"80",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.shop_name))])]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"shop_name",label:"店铺名称","min-width":"80",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.shop_name))])]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"address",label:"地址","min-width":"80",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.address_str))])]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"business_status",label:"认证状态","min-width":"80",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.business_status_str))])]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"from",label:"来源","min-width":"80",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.from))])]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"from_salesman",label:"所属销售","min-width":"80",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.from_salesman))])]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"is_freeze",label:"启用状态","min-width":"80",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[i("span",[e._v(e._s(t.row.is_freeze_str))])]}}])}),e._v(" "),i("el-table-column",{attrs:{prop:"operate",label:"操作","min-width":"80",align:"center","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.is_freeze===e.AgentIsFreeze.NO?i("span",{staticClass:"freeze-btn",on:{click:function(i){e.openReezeDialog(t.row)}}},[e._v("冻结")]):i("span",{staticClass:"enable-btn",on:{click:function(i){e.openReezeDialog(t.row)}}},[e._v("启用")]),e._v(" "),i("span",{staticClass:"detail-btn",on:{click:function(i){e.goDetail(t.row.shop_id)}}},[e._v("查看")])]}}])})],1),e._v(" "),e.isListEmpty?i("empty-table",{attrs:{type:e.emptyType}}):e._e()],1),e._v(" "),i("div",{staticClass:"pagination-content change-pagination-default"},[i("el-pagination",{staticClass:"sl-pagination",attrs:{"current-page":e.listQuery.page,"page-sizes":[10,20,40],"page-size":e.listQuery.limit,layout:"sizes, jumper, prev, pager, next",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.$set(e.listQuery,"page",t)}}})],1)]),e._v(" "),i("el-dialog",{staticClass:"nopadding freeze-dialog",attrs:{visible:e.freezeDialogVisible,width:"600px",top:"35vh",center:""},on:{"update:visible":function(t){e.freezeDialogVisible=t},close:e.hideReezeDialogHandle}},[i("div",{staticClass:"freeze-content"},[this.dialogAgent.is_freeze===e.AgentIsFreeze.NO?i("span",[e._v("确定要执行冻结操作？")]):i("span",[e._v("确定要执行启用操作？")])]),e._v(" "),i("div",{staticClass:"btn-dialog",attrs:{slot:"footer"},slot:"footer"},[this.dialogAgent.is_freeze===e.AgentIsFreeze.NO?i("div",{staticClass:"btn-Dialogok",on:{click:e.freezeOk}},[e._v("确认")]):i("div",{staticClass:"btn-DialogEnable",on:{click:e.freeEnable}},[e._v("确认")]),e._v(" "),i("div",{staticClass:"btn-Dialogcancel",on:{click:e.hideReezeDialog}},[e._v("取消")])])]),e._v(" "),i("el-dialog",{staticClass:"nopadding change-tip-dialog",attrs:{visible:e.sucTipDialogVisible,width:"500px",top:"35vh",center:""},on:{"update:visible":function(t){e.sucTipDialogVisible=t}}},[i("div",{staticClass:"change-tip-content"},[i("div",{staticClass:"icon"},[i("img",{attrs:{src:e.sucTipImg}})]),e._v(" "),i("div",{staticClass:"text"},[i("span",[e._v(e._s(e.sucTipText))])])]),e._v(" "),i("div",{staticClass:"btn-dialog",attrs:{slot:"footer"},slot:"footer"},[i("div",{staticClass:"btn-tip",on:{click:e.hideTipSuc}},[e._v("知道了")])])])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"fl"},[t("span",{staticClass:"label-text"},[this._v("认证状态")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"fl"},[t("span",{staticClass:"label-text"},[this._v("名称")])])}]},p=i("8AGX")(u,h,!1,function(e){i("ntkP")},"data-v-72e3ffd4",null);t.default=p.exports},SpNi:function(e,t){e.exports="data:image/png;base64,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"},ntkP:function(e,t){},tPWg:function(e,t){e.exports="data:image/png;base64,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"}});