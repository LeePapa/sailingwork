webpackJsonp([40,56,83],{"+LS0":function(t,e,i){"use strict";i("i0PI"),i("EuEE");e.a={name:"treeNode",props:{treeData:Array,func:{type:Function,default:null},expand:{type:Function,default:null},trees:{type:Array,twoWay:!0},callback:{type:Function},expandfunc:{type:Function}},data:function(){return{nodeData:[]}},created:function(){var t=this.$parent;t.isTree?this.tree=t:this.tree=t.tree,this.nodeData=(this.treeData||[]).slice(0)},watch:{treeData:function(t){this.nodeData=(t||[]).slice(0)}},methods:{handleNode:function(t){t.isActive=!0,this.tree.$emit("node-click",t)},addCategory:function(t){this.tree.$emit("add-category",t)},isShowEditor:function(t){this.tree.$emit("editor-category",t)},deleteCategory:function(t){this.tree.$emit("delete-category",t)},isShowBtn:function(t){t.isShowBtn=!0},isHideBtn:function(t){t.isShowBtn=!1},Func:function(t){var e=this;t.isActive=!0,this.tree.$emit("node-click",t);!function i(a,n){a.forEach(function(a){a.id===t.id?(a.clickNode=!0,"function"==typeof e.callback&&e.callback.call(null,t,n,e.trees)):a.clickNode=!1,a.children&&i(a.children,a)})}(this.nodeData,this.nodeData),t.isExpand&&"0-0"===t.key?t.isExpand=!0:t.isExpand=!1}}}},"4cSn":function(t,e,i){"use strict";function a(t){i("MZ6H")}Object.defineProperty(e,"__esModule",{value:!0});var n=i("+LS0"),o=i("uAQi"),r=i("qs7J"),s=a,l=Object(r.a)(n.a,o.a,o.b,!1,s,"data-v-4be17856",null);e.default=l.exports},"5g5b":function(t,e,i){"use strict";i.d(e,"b",function(){return s}),i.d(e,"a",function(){return l});var a=i("6nXL"),n=i("VCXJ"),o=i("a2vD"),r=i("EuEE"),s={initTreeData:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return e=e.map(function(e){return n.default.set(e,"canEditor",!1),n.default.set(e,"addIcon",!0),n.default.set(e,"editorIcon",!0),n.default.set(e,"deleteIcon",!0),n.default.set(e,"isShowBtn",!1),n.default.set(e,"isActive",!1),n.default.set(e,"breakshow",!1),n.default.set(e,"allShow",!1),n.default.set(e,"isExpand",!0),n.default.set(e,"isFolder",!1),e.hasOwnProperty("employee_list")&&e.employee_list.length>0&&t.initTreeData(e.employee_list),e})},addTitleToTree:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e={};return n.default.set(e,"department_name","部门管理"),n.default.set(e,"employee_list",t),n.default.set(e,"department_id","0"),e},generateKey:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],i=arguments[1];return e=e.map(function(e,a){return e.key=i+"-"+a.toString(),e.hasOwnProperty("employee_list")&&e.employee_list.length>0&&t.generateKey(e.employee_list,e.key),e})},getKeylength:function(t){if(!r.a.isEmpty(t)){return t.split("-").length}},selectIcon:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];e=e.map(function(e){var i=t.getKeylength(e.key);2===i?(e.addIcon=!0,e.editorIcon=!1,e.deleteIcon=!1,e.isExpand=!0,e.isActive=!0):3===i?(e.addIcon=!1,e.editorIcon=!0,e.deleteIcon=!0,e.isExpand=!1,e.isFolder=!0):4===i&&(e.addIcon=!1,e.editorIcon=!1,e.deleteIcon=!1),e.hasOwnProperty("employee_list")&&e.employee_list.length>0&&t.selectIcon(e.employee_list)})},saveDepartName:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=[];return function t(i){i.forEach(function(i){i.hasOwnProperty("department_name")&&"部门管理"!==i.department_name&&e.push(i.department_name),i.hasOwnProperty("employee_list")&&i.employee_list.length>0&&t(i.employee_list)})}(t),e},treeDataById:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e={};return function t(i){i.forEach(function(i){i.hasOwnProperty("department_id")?e[i.department_id]=i:i.hasOwnProperty("employee_id")&&(e[i.employee_id]=i),i.hasOwnProperty("employee_list")&&i.employee_list.length>0&&t(i.employee_list)})}(t),e},changeSelecte:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.department_id;for(var a in e)e.hasOwnProperty(a)&&(e[a].isActive=i===a);return e},getDutyArr:function(t){var e=[];return t.forEach(function(t){-1===e.indexOf(t.position_name)&&e.push(t.position_name)}),e},getDutyDepartId:function(t,e){var i;return t.forEach(function(t){void 0!==t.position_name?t.position_name===e&&(i=t.position_id):t.department_name===e&&(i=t.department_id)}),i},search:function(t,e,i,n){var o=[],r=new RegExp(t,"g"),s=new RegExp(e,"g");return n.forEach(function(l){t&&t!==a.B.code[0]||""!==e||""!==i?null!==r.exec(l.position_name)&&""===e&&""===i?o.push(l):null!==r.exec(l.position_name)&&null!==s.exec(l.real_name)&&""===i?o.push(l):null!==r.exec(l.position_name)&&null!==s.exec(l.real_name)&&l.phone.indexOf(i)>-1?o.push(l):null!==r.exec(l.position_name)&&l.phone.indexOf(i)>-1&&""===e?o.push(l):(!t||t===a.B.code[0])&&null!==s.exec(l.real_name)&&l.phone.indexOf(i)>-1?o.push(l):(!t||t===a.B.code[0])&&""===e&&l.phone.indexOf(i)>-1?o.push(l):t&&t!==a.B.code[0]||null===s.exec(l.real_name)||""!==i||o.push(l):o=n}),o},getTotal:function(t){if(void 0!==t&&t.length>0){for(var e=0,i=0;i<t.length;i++)e++;return e}},getPageList:function(t,e,i){if(void 0!==t&&t.length>0){return t.filter(function(t,a){return a<e*i&&a>=e*(i-1)})}},isRight:function(t){return t.forEach(function(t){var e,i=[],n=[];for(var o in a.O)void 0!==t.position_permission?(e=t.position_permission&a.O[o],0!==e&&(n.push(a.O.code[e]),i.push(e)),t.arrId=i,t.arrRight=n,t.arrId[0]===a.O.ALLBACKSTAGE&&t.arrId[1]===a.O.ALLWEB?t.arrRight=["全部"]:t.arrId[0]===a.O.ALLBACKSTAGE&&t.arrId[1]===a.O.ALLWEB&&t.arrId.length>2?t.arrRight=["全部"]:t.arrId[0]===a.O.ALLWEB&&t.arrId.length>1&&(t.arrRight=["点餐收银全部权限"]),t.arrRight.forEach(function(t){t===a.O.code[a.O.ALLWEB]&&(t="")})):(t.arrId=0,t.arrRight=a.B.code[0])}),t},judgeStaffList:function(t){var e=[];for(var i in a.O)t.forEach(function(t){t===a.O.code[a.O[i]]&&e.push(a.O[i])});return e}},l={getTotal:function(t){if(void 0!==t&&t.length>0){for(var e=0,i=0;i<t.length;i++)e++;return e}},getPageList:function(t,e,i){var a=[];return void 0!==t&&t.length>0?a=t.filter(function(t,a){return a<e*i&&a>=e*(i-1)}):a},canSeeLogin:function(t){var e=o.a.getShopinfo();return e.shopinfo&&e.shopinfo.length>0&&e.shopinfo.forEach(function(e){t=e.employee_is_admin===a.H.YES}),t}}},"6Rp5":function(t,e,i){e=t.exports=i("I71c")(!1),e.push([t.i,"#staffTree .category .el-input{width:320px}#staffTree .category .el-input__inner{border-radius:0;height:34px}#staffTree .category .el-input__inner:focus,#staffTree .category .el-input__inner:hover{border:1px solid #bfcbd9}#staffTree .el-dialog .el-dialog__header{padding:0;margin-bottom:60px}#staffTree .el-dialog__body{padding:0}",""])},EJwY:function(t,e,i){e=t.exports=i("I71c")(!1),e.push([t.i,'.name-content[data-v-4be17856]{font-size:0;padding-bottom:20px}.input-content[data-v-4be17856]{padding-bottom:20px}.input-content .input-name[data-v-4be17856]{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;border:1px solid #4877e7;width:187px;height:34px;border-radius:2px;padding:0 3px 0 10px}.input-content .input-name input[data-v-4be17856]{width:100%;height:100%}.input-content .input-name input[data-v-4be17856]:focus{outline-style:none}.category-name[data-v-4be17856]{border:1px solid #979797;padding:8px;min-width:80px;max-width:185px;height:34px;border-radius:2px;display:inline-block;font-size:14px;color:#666;text-align:center;vertical-align:bottom;cursor:pointer;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.category-name div.icon-group[data-v-4be17856]{display:inline-block;height:18px;line-height:18px;text-align:center}.category-name .icon[data-v-4be17856]{display:inline-block;font-size:12px;color:#666;width:16px;height:16px;border-radius:8px;color:#fff;background-color:#4877e7}.category-name.active[data-v-4be17856]{border-color:#4877e7;color:#fff;background-color:#4877e7;overflow:hidden;text-overflow:ellipsis}.category-name.active span.icon[data-v-4be17856]{color:#4877e7;background-color:#fff}.operate-btn[data-v-4be17856]{display:inline-block;cursor:pointer}.operate-btn .iconfont[data-v-4be17856]{font-size:24px;line-height:34px;margin-left:10px}.reserved-btn[data-v-4be17856]{display:inline-block;min-width:70px}.tree-node li[data-v-4be17856]{margin:0;position:relative}.tree li[data-v-4be17856]:after,.tree li[data-v-4be17856]:before{content:"";left:-12px;position:absolute;right:auto;border-width:1px}.tree>ul:first-child>li[data-v-4be17856]:first-child:before{border:none;bottom:50%;height:100%;top:15px;width:1px}.tree>ul:first-child>li[data-v-4be17856]:first-child:after{border:none}.tree li[data-v-4be17856]:before{border-left:1px solid #d8d8d8;bottom:50px;height:100%;top:-20px;width:1px}.tree li[data-v-4be17856]:after{border-top:1px solid #d8d8d8;height:20px;top:15px;width:12px}.tree li[data-v-4be17856]:last-child:before{height:36px}.tree>ul[data-v-4be17856]{padding-left:0}.tree ul ul[data-v-4be17856]{padding-left:19px}.blue[data-v-4be17856]{color:#4877e7}.red[data-v-4be17856]{color:#e7487e}.tree-category[data-v-4be17856]{width:185px;height:34px;text-align:left;padding-left:10px}',""])},MCPq:function(t,e,i){"use strict";var a=i("4cSn"),n=(i("i0PI"),i("EuEE"));e.a={name:"tree",components:{TreeNode:a.default},props:{treeData:Array},watch:{treeData:{handler:function(t){},deep:!0},showBanner:function(){var t=this;this.$nextTick(function(){var e=t.$refs.tree,i=e.style.height;n.a.AdjustHeight(e);var a=e.style.height;e.style.height=i,setTimeout(function(){e.style.transition="height 0.28s ease-out"},50),setTimeout(function(){e.style.height=a},50)})}},created:function(){this.isTree=!0},data:function(){return{store:{root:[]},treeDataA:[],treeDeepCopy:[],tableHeight:0}},computed:{showBanner:function(){return this.$store.state.layout.showBanner}},mounted:function(){this.adjustHeight()},methods:{adjustHeight:function(){var t=this;this.$nextTick(function(){var e=t.$refs.tree;n.a.AdjustHeight(e)})},initData:function(){},nodeClick:function(t,e,i){this.treeDeepCopy=i,this.nodeModel=t,this.parentNodeModel=e},expandClick:function(t){}}}},MZ6H:function(t,e,i){var a=i("EJwY");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("FIqI")("1851c030",a,!0,{})},PHtE:function(t,e,i){var a=i("6Rp5");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("FIqI")("e01ef3f4",a,!0,{})},Qqai:function(t,e,i){"use strict";function a(t){i("osjz"),i("PHtE")}Object.defineProperty(e,"__esModule",{value:!0});var n=i("h+8X"),o=i("TYwG"),r=i("qs7J"),s=a,l=Object(r.a)(n.a,o.a,o.b,!1,s,"data-v-68139341",null);e.default=l.exports},TYwG:function(t,e,i){"use strict";i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"staffTree"}},[i("div",{staticClass:"tree_title"},[t._v("部门列表")]),t._v(" "),i("z-tree",{ref:"tree",attrs:{treeData:t.treeData},on:{"node-click":t.selectNodeActive,"delete-category":t.deleteCategorys,"editor-category":t.openEditorDialog,"add-category":t.addCategorys}}),t._v(" "),i("el-dialog",{staticClass:"category-dialog",attrs:{width:"540px",visible:t.addDialogVisible,"show-close":!1,"before-close":t.handleClose},on:{"update:visible":function(e){t.addDialogVisible=e}}},[i("div",{staticClass:"dialog-title",attrs:{slot:"title"},slot:"title"},[t._v("添加部门")]),t._v(" "),i("div",{staticClass:"dialog-content"},[i("div",{staticClass:"category clearfix"},[i("div",{staticClass:"content-left left"},[i("span",[t._v("分类名称")])]),t._v(" "),i("div",{staticClass:"content-right left"},[i("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules}},[i("el-form-item",{attrs:{prop:"dialongInputValue"}},[i("el-input",{staticClass:"left",attrs:{placeholder:"请输入内容"},model:{value:t.form.dialongInputValue,callback:function(e){t.$set(t.form,"dialongInputValue",e)},expression:"form.dialongInputValue"}})],1)],1)],1)]),t._v(" "),i("div",{staticClass:"button-group clearfix"},[i("div",{staticClass:"ok-btn left",on:{click:function(e){t.addConfirm("form")}}},[t._v("确定")]),t._v(" "),i("div",{staticClass:"cancel-btn left",on:{click:t.addCancel}},[t._v("取消")])])])]),t._v(" "),i("el-dialog",{staticClass:"delete-dialog",attrs:{width:"540px",visible:t.DeleteDialogVisible,"show-close":!1,"before-close":t.handleClose},on:{"update:visible":function(e){t.DeleteDialogVisible=e}}},[i("div",{staticClass:"dialog-content"},[i("div",{staticClass:"img"}),t._v(" "),0==t.success_delete?i("span",{staticClass:"question"}):t._e(),t._v(" "),1==t.success_delete?i("span",{staticClass:"success-delete"}):t._e(),t._v(" "),i("div",{staticClass:"delete-tip"},[i("div",{staticClass:"delete-text"},[t._v("是否确定删除此部门？")])]),t._v(" "),i("div",{staticClass:"button-group clearfix"},[i("div",{staticClass:"ok-btn left",on:{click:t.deleteConfirm}},[t._v("确定")]),t._v(" "),i("div",{staticClass:"cancel-btn left",on:{click:t.deleteCancel}},[t._v("取消")])])])]),t._v(" "),i("el-dialog",{staticClass:"category-dialog",attrs:{width:"540px",visible:t.EditorDialogVisible,"show-close":!1,"before-close":t.handleClose},on:{"update:visible":function(e){t.EditorDialogVisible=e}}},[i("div",{staticClass:"dialog-title",attrs:{slot:"title"},slot:"title"},[t._v("编辑")]),t._v(" "),i("div",{staticClass:"dialog-content"},[i("div",{staticClass:"category clearfix"},[i("div",{staticClass:"content-left left"},[i("span",[t._v("修改名称")])]),t._v(" "),i("div",{staticClass:"content-right left"},[i("el-form",{ref:"form",attrs:{model:t.form,rules:t.rules}},[i("el-form-item",{attrs:{prop:"dialongInputValue"}},[i("el-input",{staticClass:"left",attrs:{placeholder:"请输入内容"},model:{value:t.form.dialongInputValue,callback:function(e){t.$set(t.form,"dialongInputValue",e)},expression:"form.dialongInputValue"}})],1)],1)],1)]),t._v(" "),i("div",{staticClass:"button-group clearfix"},[i("div",{staticClass:"ok-btn left",on:{click:function(e){t.editConfirm("form")}}},[t._v("保存")]),t._v(" "),i("div",{staticClass:"cancel-btn left",on:{click:t.editCancel}},[t._v("取消")])])])])],1)},n=[]},VBcT:function(t,e,i){e=t.exports=i("I71c")(!1),e.push([t.i,".tree[data-v-00faaa91]{padding:20px 0 0 20px;background:#fff}",""])},XhXR:function(t,e,i){var a=i("VBcT");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("FIqI")("3dd7b65b",a,!0,{})},"Yp/U":function(t,e,i){"use strict";i.d(e,"a",function(){return n});var a=i("EuEE"),n={getDepartList:function(t,e){a.a.DataEncSubmit("department_get.php",t,function(t){e&&"function"==typeof e&&e(t)})},modifyDepartInfo:function(t,e){a.a.DataEncSubmit("department_save.php",t,function(t){e&&"function"==typeof e&&e(t)})},getStaffList:function(t,e){a.a.DataEncSubmit("employee_get.php",t,function(t){e&&"function"==typeof e&&e(t)})},getDepartStaffList:function(t,e){a.a.DataEncSubmit("department_get.php",t,function(t){e&&"function"==typeof e&&e(t)})},modifyStaffInfo:function(t,e){a.a.DataEncSubmit("user_info.php",t,function(t){e&&"function"==typeof e&&e(t)})},getPhoneTest:function(t,e){a.a.DataEncSubmit("login_save.php",t,function(t){e&&"function"==typeof e&&e(t)})},getUserInfor:function(t,e){a.a.DataEncSubmit("employee_save.php",t,function(t){e&&"function"==typeof e&&e(t)})},editDutyRight:function(t,e){a.a.DataEncSubmit("position_save.php",t,function(t){e&&"function"==typeof e&&e(t)})},getDutyList:function(t,e){a.a.DataEncSubmit("position_get.php",t,function(t){e&&"function"==typeof e&&e(t)})},getShopData:function(t,e){a.a.DataEncSubmit("shopinfo_get.php",t,function(t){e&&"function"==typeof e&&e(t)})},getLoginInfo:function(t,e){a.a.DataEncSubmit("shop_get.php",t,function(t){e&&"function"==typeof e&&e(t)})},saveLginInfo:function(t,e){a.a.DataEncSubmit("shop_save.php",t,function(t){e&&"function"==typeof e&&e(t)})}}},ZWa7:function(t,e){t.exports="data:image/png;base64,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"},aJRB:function(t,e,i){"use strict";i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{ref:"tree",staticClass:"tree"},[i("tree-node",{attrs:{"tree-data":t.treeData,func:t.nodeClick,expand:t.expandClick}})],1)},n=[]},"h+8X":function(t,e,i){"use strict";var a=i("VCXJ"),n=i("xX3l"),o=i("Yp/U"),r=i("5g5b");e.a={data:function(){var t=this;return{success_delete:!1,addDialogVisible:!1,EditorDialogVisible:!1,DeleteDialogVisible:!1,isEditor:!1,editOldName:"",dialogTitle:"",clickData:null,isIniData:!0,form:{dialongInputValue:""},treeData:[],treeDataById:null,departNameArr:[],name:null,rules:{dialongInputValue:[{validator:function(e,i,a){i?t.form.dialongInputValue.length>15?a(new Error("长度在 1 到 30 个字符")):-1!==t.departNameArr.indexOf(t.form.dialongInputValue)?a(new Error("该部门已经存在")):a():a(new Error("部门名称不能为空"))},trigger:"click"}]}}},created:function(){this.getCategory()},computed:{departId:function(){return this.$store.state.staff.departId}},components:{ZTree:n.default},watch:{treeData:{handler:function(){this.treeDataByIds()},deep:!0}},methods:{getCategory:function(){var t=this;o.a.getDepartList({get_department_list:1},function(e){var i=e.data.department_list,n=r.b.addTitleToTree(i);a.default.set(t.treeData,0,n),r.b.generateKey(t.treeData,0),r.b.initTreeData(t.treeData),r.b.selectIcon(t.treeData),t.departNameArr=r.b.saveDepartName(t.treeData),t.treeDataByIds(),t.$store.commit("GET_NAME_ARR",t.departNameArr),t.$emit("margin-change"),t.isIniData?t.clickData=t.treeData[0]:(t.clickData?r.b.changeSelecte(t.clickData,t.treeDataById):(t.clickData=t.treeData[0].employee_list[t.treeData[0].employee_list.length-1],r.b.changeSelecte(t.clickData,t.treeDataById)),void 0!==t.clickData.department_id&&t.$store.commit("CHANGE_STAFF_ID",t.clickData.department_id))})},treeDataByIds:function(){this.treeDataById=r.b.treeDataById(this.treeData)},selectNodeActive:function(t){this.clickData=t,r.b.changeSelecte(t,this.treeDataById),this.$store.commit("GET_STAFF_LIST",t.employee_list),this.isIniData=!0,void 0!==t.department_id&&(this.isIniData=!1,this.$store.commit("CHANGE_STAFF_ID",t.department_id))},addCategorys:function(t){this.isIniData=!1,this.form.dialongInputValue="",this.addDialogVisible=!0,this.name=t,this.clickData="",r.b.changeSelecte(t,this.treeDataById)},deleteCategorys:function(t){this.isIniData=!1,this.DeleteDialogVisible=!0,this.name=t},openEditorDialog:function(t){var e=this;if(this.isIniData=!1,t.hasOwnProperty("employee_list")){this.EditorDialogVisible=!0,this.clickData=t,this.name=t;var i={get_department_info:1,department_id:this.name.department_id};o.a.getDepartList(i,function(t){e.editOldName=t.data.department_name,e.form.dialongInputValue=t.data.department_name,r.b.changeSelecte(e.clickData,e.treeDataById),e.$emit("margin-change")})}},addConfirm:function(t){var e=this;this.$refs[t].validate(function(t){if(t){var i={department_save:1,department_name:e.form.dialongInputValue};o.a.modifyDepartInfo(i,e.getCategory),e.addDialogVisible=!1,e.$emit("margin-change")}})},addCancel:function(){this.addDialogVisible=!1},deleteConfirm:function(){if(!this.name.hasOwnProperty("employee_list")||this.name.hasOwnProperty("employee_list")&&0===this.name.employee_list.length){this.DeleteDialogVisible=!1;var t={department_del:1,department_id:this.name.department_id};o.a.modifyDepartInfo(t,this.getCategory),this.clickData=this.treeData[0],r.b.changeSelecte(this.clickData,this.treeDataById)}else this.$slnotify({message:"该部门包含员工信息，不能被删除"})},deleteCancel:function(){r.b.changeSelecte(this.clickData,this.treeDataById),this.DeleteDialogVisible=!1},editConfirm:function(){""===this.form.dialongInputValue?this.$slnotify({message:"部门名称不能为空"}):this.form.dialongInputValue!==this.editOldName&&-1!==this.departNameArr.indexOf(this.form.dialongInputValue)?this.$slnotify({message:"不能修改为已经存在的部门名称"}):(this.getEditName(),r.b.changeSelecte(this.clickData,this.treeDataById),this.EditorDialogVisible=!1,this.form.dialongInputValue="")},editCancel:function(){r.b.changeSelecte(this.clickData,this.treeDataById),this.EditorDialogVisible=!1},getEditName:function(){var t={department_save:1,department_id:this.name.department_id,department_name:this.form.dialongInputValue};o.a.modifyDepartInfo(t,this.getCategory),r.b.changeSelecte(this.clickData,this.treeDataById)},handleClose:function(){r.b.changeSelecte(this.clickData,this.treeDataById),this.EditorDialogVisible=!1,this.isEditor=!1,this.form.dialongInputValue="",this.addDialogVisible=!1,this.EditorDialogVisible=!1,this.DeleteDialogVisible=!1}}}},i0PI:function(t,e,i){"use strict";i("VCXJ"),i("EuEE")},osjz:function(t,e,i){var a=i("p03S");"string"==typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);i("FIqI")("5ac68cb8",a,!0,{})},p03S:function(t,e,i){var a=i("gbsh");e=t.exports=i("I71c")(!1),e.push([t.i,"#staffTree[data-v-68139341]{background:#fff;-webkit-box-shadow:0 2px 4px 0 #becaeb;box-shadow:0 2px 4px 0 #becaeb}.tree_title[data-v-68139341]{width:100%;height:40px;font-size:14px;color:#666;line-height:40px;background-color:#f6f8fc;padding-left:14px}.category-dialog[data-v-68139341]{top:20%}.category-dialog .dialog-title[data-v-68139341]{width:540px;height:40px;font-size:16px;color:#fff;background-color:#5a8cff;text-align:center;line-height:40px}.dialog-content[data-v-68139341]{width:540px;height:200px}.dialog-content .img[data-v-68139341]{background:url("+a(i("p88u"))+");position:absolute;top:0;width:540px;height:4px}.question[data-v-68139341]{top:20%;left:113px;background:url("+a(i("qjPf"))+");z-index:999999}.question[data-v-68139341],.success-delete[data-v-68139341]{position:absolute;display:inline-block;width:50px;height:50px}.success-delete[data-v-68139341]{top:44%;left:49%;background:url("+a(i("ZWa7"))+")}.category .content-left[data-v-68139341]{width:80px;height:34px;line-height:34px;margin-left:60px}.category .content-right[data-v-68139341]{width:320px;height:34px}.delete-dialog[data-v-68139341]{top:20%}.delete-dialog .dialog-title[data-v-68139341]{width:540px;height:40px;font-size:16px;color:#fff;text-align:center;background-color:#5a8cff;line-height:40px}.delete-dialog .question[data-v-68139341]{position:absolute;display:inline-block;top:20%;left:160px;background:url("+a(i("qjPf"))+");width:50px;height:50px;z-index:999999}.delete-dialog .dialog-content[data-v-68139341]{width:540px;height:260px}.delete-dialog .dialog-content .delete-tip[data-v-68139341]{margin-bottom:60px}.delete-dialog .dialog-content .delete-tip .delete-text[data-v-68139341]{display:inline-block;padding-top:68px;padding-left:240px;vertical-align:bottom;font-size:14px;color:#666}.delete-dialog .button-group[data-v-68139341]{position:absolute;bottom:40px}.button-group[data-v-68139341]{margin-top:80px}.button-group div[data-v-68139341]{width:160px;height:40px;border-radius:4px;border:1px solid #5a8cff;color:#5a8cff;line-height:40px;text-align:center;cursor:pointer}.button-group .ok-btn[data-v-68139341]{margin:0 60px 0 77px;background-color:#5a8cff;color:#fff}",""])},p88u:function(t,e,i){t.exports=i.p+"static/img/topbar.31fa159.png"},qjPf:function(t,e){t.exports="data:image/png;base64,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"},uAQi:function(t,e,i){"use strict";i.d(e,"a",function(){return a}),i.d(e,"b",function(){return n});var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("ul",{ref:"tree",staticClass:"tree-node"},t._l(t.nodeData,function(e,a){return i("li",{key:e.key},[i("div",{directives:[{name:"show",rawName:"v-show",value:e.canEditor,expression:"item.canEditor"}],staticClass:"input-content"},[i("div",{staticClass:"input-name"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.category_name,expression:"item.category_name"}],attrs:{type:"text"},domProps:{value:e.category_name},on:{blur:function(i){t.isHideEditor(e)},keyup:function(i){if(!("button"in i)&&t._k(i.keyCode,"enter",13,i.key))return null;t.isHideEditor(e)},input:function(i){i.target.composing||t.$set(e,"category_name",i.target.value)}}})])]),t._v(" "),i("div",{directives:[{name:"show",rawName:"v-show",value:!e.canEditor,expression:"!item.canEditor"}],staticClass:"name-content",on:{mouseleave:function(i){t.isHideBtn(e)}}},[i("div",{staticClass:"category-name",class:{"tree-category":e.isThree,active:e.isActive},attrs:{callback:t.callback,expandfunc:t.expand},on:{click:function(i){t.Func(e)},mouseenter:function(i){t.isShowBtn(e)}}},[t._v("\n\t\t\t\t"+t._s(e.department_name?e.department_name:e.real_name)+"\n\t\t\t")]),t._v(" "),i("div",{staticClass:"reserved-btn"},[e.isShowBtn?i("div",{staticClass:"operate-btn"},[e.addIcon?i("i",{staticClass:"iconfont icon-tianjia blue",on:{click:function(i){t.addCategory(e)}}}):t._e(),t._v(" "),e.editorIcon?i("i",{staticClass:"iconfont icon-bianji blue",on:{click:function(i){t.isShowEditor(e)}}}):t._e(),t._v(" "),e.deleteIcon?i("i",{staticClass:"iconfont icon-shanchu red",on:{click:function(i){t.deleteCategory(e)}}}):t._e()]):t._e()])]),t._v(" "),e.employee_list&&e.employee_list.length>0?i("tree-node",{directives:[{name:"show",rawName:"v-show",value:e.isExpand,expression:"item.isExpand"}],ref:"treenode",refInFor:!0,attrs:{"tree-data":e.employee_list,expandfunc:t.expandfunc,callback:t.func}}):t._e()],1)}))},n=[]},xX3l:function(t,e,i){"use strict";function a(t){i("XhXR")}Object.defineProperty(e,"__esModule",{value:!0});var n=i("MCPq"),o=i("aJRB"),r=i("qs7J"),s=a,l=Object(r.a)(n.a,o.a,o.b,!1,s,"data-v-00faaa91",null);e.default=l.exports}});