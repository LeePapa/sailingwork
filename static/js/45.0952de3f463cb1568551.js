webpackJsonp([45],{"0N0L":function(e,t,n){t=e.exports=n("BkJT")(!0),t.push([e.i,'.left[data-v-8707b7c8]{float:left}.right[data-v-8707b7c8]{float:right}.clearfix[data-v-8707b7c8]:after{content:"";display:block;clear:both}.page_card[data-v-8707b7c8]{width:100%;min-height:580px;padding-bottom:60px;background:#fff;-webkit-box-shadow:0 2px 4px 0 #becaeb;box-shadow:0 2px 4px 0 #becaeb}.page_title[data-v-8707b7c8]{width:100%;height:40px;font-size:12px;color:#333;margin-bottom:14px;line-height:40px}.from_card[data-v-8707b7c8]{width:45%;padding:48px 0 40px;margin-left:133px}.dash[data-v-8707b7c8]:after{content:"";width:100%;position:absolute;top:1%;left:0;border-bottom:1px dashed #d3d3d3}.line[data-v-8707b7c8]:after{content:"";width:84.2%;position:absolute;top:90%;left:230px;border-bottom:1px solid #d3d3d3}p[data-v-8707b7c8]{height:25px}.title[data-v-8707b7c8]{margin-top:20px}.refondTitle[data-v-8707b7c8]{margin-top:30px}.btnGroup[data-v-8707b7c8]{margin-top:50px}',"",{version:3,sources:["E:/ordering/www/shop/html/src/modules/staff/view/children/editDutyInfo.vue"],names:[],mappings:"AACA,uBACE,UAAY,CACb,AACD,wBACE,WAAa,CACd,AACD,iCACE,WAAY,AACZ,cAAe,AACf,UAAY,CACb,AACD,4BACE,WAAY,AACZ,iBAAkB,AAClB,oBAAqB,AACrB,gBAAoB,AACpB,uCAAwC,AAChC,8BAAgC,CACzC,AACD,6BACE,WAAY,AACZ,YAAa,AACb,eAAgB,AAChB,WAAe,AACf,mBAAoB,AACpB,gBAAkB,CACnB,AACD,4BACE,UAAW,AACX,oBAAuB,AACvB,iBAAmB,CACpB,AACD,6BACE,WAAY,AACZ,WAAY,AACZ,kBAAmB,AACnB,OAAQ,AACR,OAAQ,AACR,gCAAoC,CACrC,AACD,6BACE,WAAY,AACZ,YAAa,AACb,kBAAmB,AACnB,QAAS,AACT,WAAY,AACZ,+BAAmC,CACpC,AACD,mBACE,WAAa,CACd,AACD,wBACE,eAAiB,CAClB,AACD,8BACE,eAAiB,CAClB,AACD,2BACE,eAAiB,CAClB",file:"editDutyInfo.vue",sourcesContent:['\n.left[data-v-8707b7c8] {\n  float: left;\n}\n.right[data-v-8707b7c8] {\n  float: right;\n}\n.clearfix[data-v-8707b7c8]:after {\n  content: \'\';\n  display: block;\n  clear: both;\n}\n.page_card[data-v-8707b7c8] {\n  width: 100%;\n  min-height: 580px;\n  padding-bottom: 60px;\n  background: #ffffff;\n  -webkit-box-shadow: 0 2px 4px 0 #becaeb;\n          box-shadow: 0 2px 4px 0 #becaeb;\n}\n.page_title[data-v-8707b7c8] {\n  width: 100%;\n  height: 40px;\n  font-size: 12px;\n  color: #333333;\n  margin-bottom: 14px;\n  line-height: 40px;\n}\n.from_card[data-v-8707b7c8] {\n  width: 45%;\n  padding: 48px 0 40px 0;\n  margin-left: 133px;\n}\n.dash[data-v-8707b7c8]:after {\n  content: "";\n  width: 100%;\n  position: absolute;\n  top: 1%;\n  left: 0;\n  border-bottom: 1px dashed lightgray;\n}\n.line[data-v-8707b7c8]:after {\n  content: "";\n  width: 84.2%;\n  position: absolute;\n  top: 90%;\n  left: 230px;\n  border-bottom: 1px solid lightgray;\n}\np[data-v-8707b7c8] {\n  height: 25px;\n}\n.title[data-v-8707b7c8] {\n  margin-top: 20px;\n}\n.refondTitle[data-v-8707b7c8] {\n  margin-top: 30px;\n}\n.btnGroup[data-v-8707b7c8] {\n  margin-top: 50px;\n}\n'],sourceRoot:""}])},"1nDc":function(e,t,n){var o=n("0N0L");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n("8bSs")("7d227cc2",o,!0)},"2SRc":function(e,t,n){"use strict";function o(e){n("1nDc"),n("LFqF")}Object.defineProperty(t,"__esModule",{value:!0});var i=n("kMxp"),r=n("XvZs"),a=n("46Yf"),l=o,s=a(i.a,r.a,!1,l,"data-v-8707b7c8",null);t.default=s.exports},"5g5b":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var o=(n("Yp/U"),n("6nXL")),i=n("MVSX"),r=n("EuEE"),a={initTreeData:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t=t.map(function(t){return i.default.set(t,"canEditor",!1),i.default.set(t,"addIcon",!0),i.default.set(t,"editorIcon",!0),i.default.set(t,"deleteIcon",!0),i.default.set(t,"isShowBtn",!1),i.default.set(t,"isActive",!1),i.default.set(t,"breakshow",!1),i.default.set(t,"allShow",!1),i.default.set(t,"isExpand",!0),i.default.set(t,"isFolder",!1),t.hasOwnProperty("employee_list")&&t.employee_list.length>0&&e.initTreeData(t.employee_list),t})},addTitleToTree:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};return i.default.set(t,"department_name","部门管理"),i.default.set(t,"employee_list",e),i.default.set(t,"department_id","0"),t},generateKey:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments[1];return t=t.map(function(t,o){return t.key=n+"-"+o.toString(),t.hasOwnProperty("employee_list")&&t.employee_list.length>0&&e.generateKey(t.employee_list,t.key),t})},getKeylength:function(e){if(!r.a.isEmpty(e)){return e.split("-").length}},selectIcon:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t=t.map(function(t){var n=e.getKeylength(t.key);2===n?(t.addIcon=!0,t.editorIcon=!1,t.deleteIcon=!1,t.isExpand=!0,t.isActive=!0):3===n?(t.addIcon=!1,t.editorIcon=!0,t.deleteIcon=!0,t.isExpand=!1,t.isFolder=!0):4===n&&(t.addIcon=!1,t.editorIcon=!1,t.deleteIcon=!1),t.hasOwnProperty("employee_list")&&t.employee_list.length>0&&e.selectIcon(t.employee_list)})},saveDepartName:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=[];return function e(n){n.forEach(function(n){n.hasOwnProperty("department_name")&&"部门管理"!==n.department_name&&t.push(n.department_name),n.hasOwnProperty("employee_list")&&n.employee_list.length>0&&e(n.employee_list)})}(e),t},treeDataById:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t={};return function e(n){n.forEach(function(n){n.hasOwnProperty("department_id")?t[n.department_id]=n:n.hasOwnProperty("employee_id")&&(t[n.employee_id]=n),n.hasOwnProperty("employee_list")&&n.employee_list.length>0&&e(n.employee_list)})}(e),t},changeSelecte:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.department_id?e.department_id:e.employee_id;for(var o in t)t.hasOwnProperty(o)&&(t[o].isActive=n===o)},getDutyArr:function(e){var t=[];return e.forEach(function(e){-1==t.indexOf(e.duty)&&t.push(e.duty)}),t},search:function(e,t,n,i){var r=[],a=new RegExp(e,"g"),l=new RegExp(t,"g"),s=new RegExp(n,"g");return i.forEach(function(f){e&&e!=o.c.code[0]||""!=t||""!=n?null!==a.exec(f.duty)&&""==t&&""==n?r.push(f):null!==a.exec(f.duty)&&null!==l.exec(f.real_name)&&""==n?r.push(f):null!==a.exec(f.duty)&&null!==l.exec(f.real_name)&&null!==s.exec(f.phone)?r.push(f):null!==a.exec(f.duty)&&null!==s.exec(f.phone)&&""==t?r.push(f):(e&&e!=o.c.code[0]||null===l.exec(f.real_name)||null===s.exec(f.phone))&&(e&&e!=o.c.code[0]||""!=t||null===s.exec(f.phone))?e&&e!=o.c.code[0]||null===l.exec(f.real_name)||""!=n||r.push(f):r.push(f):r=i}),r},getTotal:function(e){if(void 0!=e&&e.length>0){for(var t=0,n=0;n<e.length;n++)t++;return t}},getPageList:function(e,t,n){if(void 0!=e&&e.length>0){return e.filter(function(e,o){return o<t*n&&o>=t*(n-1)})}},isRight:function(e){return e.forEach(function(e){var t,n=[],i=[];for(var r in o.j)void 0!==e.position_permission?(t=e.position_permission&o.j[r],0!==t&&(i.push(o.j.code[t]),n.push(t)),e.arrId=n,e.arrRight=i):(e.arrId=0,e.arrRight=o.c.code[0])}),e},judgeStaffList:function(e,t){if(0==t)return e.forEach(function(e){null==e.is_freeze||e.is_freeze==o.k.NO?e.is_freeze=o.k.code[o.k.NO]:e.is_freeze=o.k.code[o.k.YES],null==e.is_weixin||e.isWechat==o.k.NO?e.is_weixin=o.l.code[o.l.NO]:e.is_weixin=o.l.code[o.l.YES]}),e;if(1==t){var n=[];return e.forEach(function(e){for(var t in o.j)e==o.j.code[o.j[t]]&&(e=o.j[t],n.push(e))}),n}}}},LFqF:function(e,t,n){var o=n("ivFl");"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);n("8bSs")("0acd07af",o,!0)},XvZs:function(e,t,n){"use strict";var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"editDutyInfo"}},[n("div",{staticClass:"page_title"},[n("router-link",{attrs:{to:{path:"/shop/staff",query:{name:e.choosePoMa}}}},[n("span",[e._v("职级管理")])]),e._v(" "),n("span",[e._v(">")]),e._v(" "),n("span",[e._v("添加职位")])],1),e._v(" "),n("div",{staticClass:"page_card"},[n("div",{staticClass:"from_card"},[n("el-form",{ref:"form",attrs:{model:e.form,"label-width":"100px",size:"mini",rules:e.rules}},[n("el-form-item",{attrs:{label:"职位名称",prop:"position_name"}},[e.form.entry_type&&"1"!=e.form.entry_type?n("el-input",{model:{value:e.form.position_name,callback:function(t){e.$set(e.form,"position_name",t)},expression:"form.position_name"}}):n("span",[e._v(e._s(e.form.position_name))])],1),e._v(" "),n("el-form-item",{attrs:{label:"权限",prop:"right"}},[n("el-radio-group",{attrs:{fill:"#4877E7"},model:{value:e.form.right,callback:function(t){e.$set(e.form,"right",t)},expression:"form.right"}},[n("el-radio-button",{attrs:{label:"点餐收银"}}),e._v(" "),n("el-radio-button",{attrs:{label:"后台管理"}})],1)],1),e._v(" "),n("el-form-item",{attrs:{label:""}},[n("el-checkbox-group",{model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},[n("p",[n("el-checkbox",{attrs:{label:"启用",name:"type"}})],1),e._v(" "),n("p",[n("el-checkbox",{attrs:{label:"全选",name:"type"}})],1)])],1),e._v(" "),n("el-form-item",{attrs:{label:""}},[n("p",[e._v("模块名称")]),e._v(" "),n("el-checkbox-group",{model:{value:e.form.arrRight,callback:function(t){e.$set(e.form,"arrRight",t)},expression:"form.arrRight"}},[n("el-checkbox",{attrs:{label:"后台全部权限",name:"arrRight"}}),e._v(" "),n("el-checkbox",{attrs:{label:"使用预定",name:"arrRight"}}),e._v(" "),n("el-checkbox",{attrs:{label:"使用历史订单管理",name:"arrRight"}}),e._v(" "),n("el-checkbox",{attrs:{label:"结账",name:"arrRight"}}),e._v(" "),n("el-checkbox",{attrs:{label:"使用退款申请",name:"arrRight"}})],1)],1),e._v(" "),n("el-form-item",{attrs:{label:""}},[n("div",{staticClass:"dash"}),e._v(" "),n("p",{staticClass:"title"},[e._v("用户请求管理")]),e._v(" "),n("p",{staticClass:"newOrder"},[e._v("新订单管理")]),e._v(" "),n("el-checkbox-group",{model:{value:e.form.newOrder,callback:function(t){e.$set(e.form,"newOrder",t)},expression:"form.newOrder"}},[n("el-checkbox",{attrs:{label:"使用新订单管理",name:"newOrder"}}),e._v(" "),n("el-checkbox",{attrs:{label:"下单并结账",name:"newOrder"}}),e._v(" "),n("el-checkbox",{attrs:{label:"关闭并退款",name:"newOrder"}})],1),e._v(" "),n("p",{staticClass:"refondTitle"},[e._v("退款申请管理")]),e._v(" "),n("el-checkbox-group",{model:{value:e.form.refund,callback:function(t){e.$set(e.form,"refund",t)},expression:"form.refund"}},[n("el-checkbox",{attrs:{label:"使用退款申请",name:"refund"}})],1)],1)],1),e._v(" "),"点餐收银"==e.form.right?n("div",{staticClass:"line"}):e._e()],1),e._v(" "),n("div",{staticClass:"btnGroup"},[n("el-button",{staticClass:"save",on:{click:function(t){e.saveStaffInfo("form")}}},[e._v("保存")]),e._v(" "),void 0==e.$route.query.infor?n("el-button",{staticClass:"saveAdd",on:{click:function(t){e.saveAddStaffInfor("form")}}},[e._v("保存并继续添加")]):e._e(),e._v(" "),n("el-button",{staticClass:"cancel",on:{click:function(t){e.cancelStaffInfor("form")}}},[e._v("取消")])],1)])])},i=[],r={render:o,staticRenderFns:i};t.a=r},"Yp/U":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var o=n("EuEE"),i={getDepartList:function(e,t){o.a.DataEncSubmit("department_get.php",e,function(e){t&&"function"==typeof t&&t(e)})},modifyDepartInfo:function(e,t){o.a.DataEncSubmit("department_save.php",e,function(e){t&&"function"==typeof t&&t(e)})},getStaffList:function(e,t){o.a.DataEncSubmit("employee_get.php",e,function(e){t&&"function"==typeof t&&t(e)})},getDepartStaffList:function(e,t){o.a.DataEncSubmit("department_get.php",e,function(e){t&&"function"==typeof t&&t(e)})},modifyStaffInfo:function(e,t){o.a.DataEncSubmit("user_info.php",e,function(e){t&&"function"==typeof t&&t(e)})},getPhoneTest:function(e,t){o.a.DataEncSubmit("customer_save.php",e,function(e){t&&"function"==typeof t&&t(e)})},getUserInfor:function(e,t){o.a.DataEncSubmit("employee_save.php",e,function(e){t&&"function"==typeof t&&t(e)})},editDutyRight:function(e,t){o.a.DataEncSubmit("position_save.php",e,function(e){t&&"function"==typeof t&&t(e)})},getDutyList:function(e,t){o.a.DataEncSubmit("position_get.php",e,function(e){t&&"function"==typeof t&&t(e)})}}},ivFl:function(e,t,n){t=e.exports=n("BkJT")(!0),t.push([e.i,'.left{float:left}.right{float:right}.clearfix:after{content:"";display:block;clear:both}#editDutyInfo .el-input{width:320px}#editDutyInfo .el-input__inner{border-radius:0;height:34px}#editDutyInfo .el-input__inner:focus,#editDutyInfo .el-input__inner:hover{border:1px solid #bfcbd9}#editDutyInfo .btnGroup .el-button{min-width:100px;height:34px;font-size:14px;color:#fff;border:none;margin-left:20px;background:#4877e7}#editDutyInfo .btnGroup .save{margin-left:500px}#editDutyInfo .btnGroup .cancel{background:#fff;color:#4877e7;border:1px solid #4877e7}',"",{version:3,sources:["E:/ordering/www/shop/html/src/modules/staff/view/children/editDutyInfo.vue"],names:[],mappings:"AACA,MACE,UAAY,CACb,AACD,OACE,WAAa,CACd,AACD,gBACE,WAAY,AACZ,cAAe,AACf,UAAY,CACb,AACD,wBACE,WAAa,CACd,AACD,+BACE,gBAAiB,AACjB,WAAa,CACd,AAID,0EACE,wBAA0B,CAC3B,AACD,mCACE,gBAAiB,AACjB,YAAa,AACb,eAAgB,AAChB,WAAe,AACf,YAAa,AACb,iBAAkB,AAClB,kBAAoB,CACrB,AACD,8BACE,iBAAmB,CACpB,AACD,gCACE,gBAAoB,AACpB,cAAe,AACf,wBAA0B,CAC3B",file:"editDutyInfo.vue",sourcesContent:["\n.left {\n  float: left;\n}\n.right {\n  float: right;\n}\n.clearfix:after {\n  content: '';\n  display: block;\n  clear: both;\n}\n#editDutyInfo .el-input {\n  width: 320px;\n}\n#editDutyInfo .el-input__inner {\n  border-radius: 0;\n  height: 34px;\n}\n#editDutyInfo .el-input__inner:hover {\n  border: 1px solid #bfcbd9;\n}\n#editDutyInfo .el-input__inner:focus {\n  border: 1px solid #bfcbd9;\n}\n#editDutyInfo .btnGroup .el-button {\n  min-width: 100px;\n  height: 34px;\n  font-size: 14px;\n  color: #ffffff;\n  border: none;\n  margin-left: 20px;\n  background: #4877E7;\n}\n#editDutyInfo .btnGroup .save {\n  margin-left: 500px;\n}\n#editDutyInfo .btnGroup .cancel {\n  background: #ffffff;\n  color: #4877E7;\n  border: 1px solid #4877E7;\n}\n"],sourceRoot:""}])},kMxp:function(e,t,n){"use strict";var o=n("Yp/U"),i=n("5g5b");t.a={data:function(){return{choosePoMa:!1,form:{position_name:"",entry_type:"",right:"点餐收银",type:[],arrRight:[],newOrder:[],refund:[]},rules:{position_name:[{required:!0,message:"请选择职位",trigger:"click"}],right:[{required:!0,message:"请选择部门",trigger:"change"}]}}},created:function(){this.initData()},methods:{initData:function(){void 0!==this.$route.query.infor&&(this.form.position_name=this.$route.query.infor.position_name,this.form.entry_type=this.$route.query.infor.entry_type,this.form.arrRight=this.$route.query.infor.arrRight)},backToPoMa:function(){this.$emit("choosePoMa",this.choosePoMa),this.$router.go(-1)},saveStaffInfo:function(e){var t=this;this.$refs[e].validate(function(e){e&&t.getRightList()})},getRightList:function(){if(void 0!==this.$route.query.infor){this.$route.query.infor.position_id,this.$route.query.infor.position_name,this.$route.query.infor.position_note,this.$route.query.infor.arrId}else{var e=i.a.judgeStaffList(this.form.arrRight,1);this.form.position_name,this.form.position_note}o.a.editDutyRight(data,function(e){console.log(e)})},saveAddStaffInfor:function(e){var t=this;this.$refs[e].validate(function(n){n&&t.$refs[e].resetFields()})},cancelStaffInfor:function(e){var t=this;this.$refs[e].validate(function(n){n&&t.$refs[e].resetFields()})}}}}});
//# sourceMappingURL=45.0952de3f463cb1568551.js.map